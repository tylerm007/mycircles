{"code":"import React from 'react';\nimport {\n    List,\n    Datagrid,\n    TextField,\n    BooleanField,\n    FunctionField,\n    ReferenceField,\n    ReferenceManyField,\n    Show,\n    SimpleShowLayout,\n    TabbedShowLayout,\n    Tab,\n    TextInput,\n    BooleanInput,\n    SimpleForm,\n    Create,\n    Edit,\n    SelectInput,\n    NumberInput,\n    Filter,\n    Pagination,\n    required,\n    useRecordContext,\n    useRedirect,\n    EditButton,\n    DeleteButton,\n    Button\n} from 'react-admin';\nimport { Box, Grid, Typography, Divider } from '@mui/material';\nimport AddIcon from '@mui/icons-material/Add';\n\n// Filter for Card List\nconst CardFilter = props => (\n    <Filter {...props}>\n        <TextInput label=\"Search\" source=\"fellowship_name\" alwaysOn />\n        <BooleanInput label=\"Is Active\" source=\"is_active\" />\n    </Filter>\n);\n\n// Card List\nexport const CardList = props => (\n    <List filters={<CardFilter />} {...props} sort={{ field: 'fellowship_name', order: 'ASC' }} pagination={<Pagination rowsPerPageOptions={[5, 10, 25]} showFirstLastButtons />}>\n        <Datagrid rowClick=\"show\">\n            <TextField source=\"fellowship_name\" label=\"Fellowship Name\" />\n            <TextField source=\"card_type\" label=\"Card Type\" />\n            <TextField source=\"circle_text\" label=\"Circle Text\" />\n            <BooleanField source=\"is_active\" label=\"Active\" />\n            <EditButton />\n            <DeleteButton />\n        </Datagrid>\n    </List>\n);\n\n// Card Show\nexport const CardShow = props => (\n    <Show {...props}>\n        <TabbedShowLayout>\n            <Tab label=\"Details\">\n                <SimpleShowLayout>\n                    <Box sx={{ mb: 3 }}>\n                        <Typography variant=\"h5\" component=\"h2\" sx={{ mb: 2, fontWeight: 'bold' }}>\n                            Card Details\n                        </Typography>\n                        <Grid container spacing={3} sx={{ mb: 2 }}>\n                            <Grid item xs={12} sm={6} md={3}>\n                                <Box sx={{ p: 1 }}>\n                                    <ReferenceField label=\"Fellowship\" source=\"fellowship_name\" reference=\"Fellowship\">\n                                        <TextField source=\"name\" />\n                                    </ReferenceField>\n                                </Box>\n                            </Grid>\n                            <Grid item xs={12} sm={6} md={3}>\n                                <Box sx={{ p: 1 }}>\n                                    <ReferenceField label=\"Card Type\" source=\"card_type\" reference=\"Cardtype\">\n                                        <TextField source=\"card_type\" />\n                                    </ReferenceField>\n                                </Box>\n                            </Grid>\n                            <Grid item xs={12} sm={6} md={3}>\n                                <Box sx={{ p: 1 }}>\n                                    <TextField source=\"circle_text\" label=\"Circle Text\" />\n                                </Box>\n                            </Grid>\n                            <Grid item xs={12} sm={6} md={3}>\n                                <Box sx={{ p: 1 }}>\n                                    <BooleanField source=\"is_active\" label=\"Active\" />\n                                </Box>\n                            </Grid>\n                        </Grid>\n                    </Box>\n                </SimpleShowLayout>\n            </Tab>\n            <Tab label=\"Selections\">\n                <ReferenceManyField reference=\"CardSelection\" target=\"card_id\" addLabel={false} pagination={<Pagination />}>\n                    <Datagrid rowClick=\"show\">\n                        <TextField source=\"id\" label=\"ID\" />\n                        <TextField source=\"circle_type\" label=\"Circle Type\" />\n                        <ReferenceField label=\"User\" source=\"user_id\" reference=\"User\">\n                            <TextField source=\"name\" />\n                        </ReferenceField>\n                        <TextField source=\"selected_date\" label=\"Selected Date\" />\n                        <EditButton />\n                        <DeleteButton />\n                    </Datagrid>\n                </ReferenceManyField>\n                <AddSelectionButton />\n            </Tab>\n            <Tab label=\"Tags\">\n                <ReferenceManyField reference=\"CardTag\" target=\"card_id\" addLabel={false} pagination={<Pagination />}>\n                    <Datagrid rowClick=\"show\">\n                        <TextField source=\"id\" label=\"ID\" />\n                        <ReferenceField label=\"Tag\" source=\"tag_id\" reference=\"Tag\">\n                            <TextField source=\"tag_name\" />\n                        </ReferenceField>\n                        <EditButton />\n                        <DeleteButton />\n                    </Datagrid>\n                </ReferenceManyField>\n                <AddTagButton />\n            </Tab>\n        </TabbedShowLayout>\n    </Show>\n);\n\n// Custom Add Selection Button\nconst AddSelectionButton = () => {\n    const record = useRecordContext();\n    const redirect = useRedirect();\n    const handleClick = () => {\n        redirect(`/CardSelection/create?source=${encodeURIComponent(JSON.stringify({ card_id: record?.id }))}`);\n    };\n    return (\n        <Button\n            variant=\"contained\"\n            color=\"primary\"\n            startIcon={<AddIcon />}\n            onClick={handleClick}\n            sx={{ mt: 2 }}\n        >\n            Add New Selection\n        </Button>\n    );\n};\n\n// Custom Add Tag Button\nconst AddTagButton = () => {\n    const record = useRecordContext();\n    const redirect = useRedirect();\n    const handleClick = () => {\n        redirect(`/CardTag/create?source=${encodeURIComponent(JSON.stringify({ card_id: record?.id }))}`);\n    };\n    return (\n        <Button\n            variant=\"contained\"\n            color=\"primary\"\n            startIcon={<AddIcon />}\n            onClick={handleClick}\n            sx={{ mt: 2 }}\n        >\n            Add New Tag\n        </Button>\n    );\n};\n\n// Card Create\nexport const CardCreate = props => (\n    <Create {...props}>\n        <SimpleForm>\n            <Box sx={{ mb: 3 }}>\n                <Typography variant=\"h5\" component=\"h2\" sx={{ mb: 2, fontWeight: 'bold' }}>\n                    Create New Card\n                </Typography>\n                <Grid container spacing={3} sx={{ mb: 2 }}>\n                    <Grid item xs={12} sm={6} md={4}>\n                        <Box sx={{ p: 1 }}>\n                            <ReferenceInput source=\"fellowship_name\" reference=\"Fellowship\" fullWidth>\n                                <SelectInput optionText=\"name\" validate={required()} />\n                            </ReferenceInput>\n                        </Box>\n                    </Grid>\n                    <Grid item xs={12} sm={6} md={4}>\n                        <Box sx={{ p: 1 }}>\n                            <ReferenceInput source=\"card_type\" reference=\"Cardtype\" fullWidth>\n                                <SelectInput optionText=\"card_type\" validate={required()} />\n                            </ReferenceInput>\n                        </Box>\n                    </Grid>\n                    <Grid item xs={12} sm={6} md={4}>\n                        <Box sx={{ p: 1 }}>\n                            <TextInput source=\"circle_text\" label=\"Circle Text\" fullWidth validate={required()} />\n                        </Box>\n                    </Grid>\n                    <Grid item xs={12} sm={6} md={4}>\n                        <Box sx={{ p: 1 }}>\n                            <BooleanInput source=\"is_active\" label=\"Active\" fullWidth />\n                        </Box>\n                    </Grid>\n                </Grid>\n            </Box>\n        </SimpleForm>\n    </Create>\n);\n\n// Card Edit\nexport const CardEdit = props => (\n    <Edit {...props} redirect={false}>\n        <SimpleForm>\n            <Box sx={{ mb: 3 }}>\n                <Typography variant=\"h5\" component=\"h2\" sx={{ mb: 2, fontWeight: 'bold' }}>\n                    Edit Card\n                </Typography>\n                <Grid container spacing={3} sx={{ mb: 2 }}>\n                    <Grid item xs={12} sm={6} md={4}>\n                        <Box sx={{ p: 1 }}>\n                            <ReferenceInput source=\"fellowship_name\" reference=\"Fellowship\" fullWidth>\n                                <SelectInput optionText=\"name\" validate={required()} />\n                            </ReferenceInput>\n                        </Box>\n                    </Grid>\n                    <Grid item xs={12} sm={6} md={4}>\n                        <Box sx={{ p: 1 }}>\n                            <ReferenceInput source=\"card_type\" reference=\"Cardtype\" fullWidth>\n                                <SelectInput optionText=\"card_type\" validate={required()} />\n                            </ReferenceInput>\n                        </Box>\n                    </Grid>\n                    <Grid item xs={12} sm={6} md={4}>\n                        <Box sx={{ p: 1 }}>\n                            <TextInput source=\"circle_text\" label=\"Circle Text\" fullWidth validate={required()} />\n                        </Box>\n                    </Grid>\n                    <Grid item xs={12} sm={6} md={4}>\n                        <Box sx={{ p: 1 }}>\n                            <BooleanInput source=\"is_active\" label=\"Active\" fullWidth />\n                        </Box>\n                    </Grid>\n                </Grid>\n            </Box>\n        </SimpleForm>\n    </Edit>\n);\n\nexport default {\n    list: CardList,\n    show: CardShow,\n    create: CardCreate,\n    edit: CardEdit,\n};\n"}